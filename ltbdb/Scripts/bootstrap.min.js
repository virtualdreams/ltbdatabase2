function split(n){return n.split(/;\s*/)}function extractLast(n){return split(n).pop()}$.widget("custom.catcomplete",$.ui.autocomplete,{_renderMenu:function(n,t){var r=this,i="";$.each(t,function(t,u){u.category!=i&&(n.append('<li class="ui-autocomplete-category">'+u.category+"<\/li>"),i=u.category);r._renderItemData(n,u)})}});String.prototype.format=function(){for(var n=this,t=arguments.length;t--;)n=n.replace(new RegExp("\\{"+t+"\\}","gm"),arguments[t]);return n};String.prototype.formatEx=function(n){var t=this;for(var i in n)t=t.replace(new RegExp("\\{"+i+"\\}","gm"),n[i]);return t};$(function(){$("#q").autocomplete({source:"/api/search/title",minLength:3,select:function(n,t){t.item&&$(n.target).val(t.item.value);$(n.target.form).submit()},open:function(){$(this).autocomplete("widget").width($(this).outerWidth()-6)}});$(".t").autocomplete({source:function(n,t){$.getJSON("/api/search/tags",{term:extractLast(n.term)},t)},search:function(){var n=extractLast(this.value);if(n.length<3)return!1},focus:function(){return!1},select:function(n,t){var i=split(this.value);return i.pop(),i.push(t.item.value),i.push(""),this.value=i.join("; "),!1},open:function(){$(this).autocomplete("widget").width($(this).outerWidth()-6)}});$(".c").autocomplete({source:"/api/search/categories",minLength:0,select:function(n,t){t.item&&$(n.target).val(t.item.value)}}).focus(function(){$(this).autocomplete("search",$(this).val())});jbox_image=new jBox("Image");var t=$("#story-container"),n='<div class="story">\t\t\t\t\t\t\t\t<input class="input" type="text" name="stories" value="" placeholder="Inhalt" /> <span class="button-green story-ins" title="Eintrag darüber einfügen."><i class="material-icons material-icons-small">add<\/i><\/span> <span class="button-red story-rem" title="Eintrag entfernen."><i class="material-icons material-icons-small">remove<\/i><\/span>\t\t\t\t\t\t\t<\/div>';$(document).on("click","#story-add",function(){$(n).appendTo(t)});$(document).on("click",".story-ins",function(){var t=$(this).parent();$(n).insertBefore(t)});$(document).on("click",".story-rem",function(){var n=$(this).parent();n.remove()});$.validator.addMethod("regex",function(n,t,i){return this.optional(t)||n.match(i)},"Please check your input.");$.validator.addMethod("nowhitespace",function(n,t){return this.optional(t)||n.trim()!=""},"No white space.");$("#book-form").validate({errorClass:"field-validation-error",validClass:"field-validation-valid",errorElement:"span",rules:{number:{required:!0,nowhitespace:!0,regex:"[0-9]+"},title:{required:!0,nowhitespace:!0,maxlength:100},category:{required:!0,nowhitespace:!0,maxlength:100}},messages:{number:{required:"Bitte gib eine Nummer ein.",nowhitespace:"Bitte gib eine Nummer ein.",regex:"Bitte gib eine Nummer ein."},title:{required:"Bitte gib einen Titel ein.",nowhitespace:"Bitte gib einen Titel ein.",maxlength:"Der Titel darf max. 100 Zeichen lang sein."},category:{required:"Bitte gib eine Kategorie ein.",nowhitespace:"Bitte gib eine Kategorie ein.",maxlength:"Die Kategorie darf max. 100 Zeichen lang sein."}}});$("#login-form").validate({errorClass:"field-validation-error",validClass:"field-validation-valid",errorElement:"span",rules:{username:{required:!0,nowhitespace:!0},password:{required:!0,nowhitespace:!0}},messages:{username:{required:"Bitte gib einen Benutzernamen ein.",nowhitespace:"Bitte gib einen Benutzernamen ein."},password:{required:"Bitte gib ein Passwort ein.",nowhitespace:"Bitte gib ein Passwort ein."}}});$("#category-move-form").validate({errorClass:"field-validation-error",validClass:"field-validation-valid",errorElement:"span",rules:{from:{required:!0,nowhitespace:!0,maxlength:100},to:{required:!0,nowhitespace:!0,maxlength:100}},messages:{from:{required:"Bitte gib eine Kategorie ein.",nowhitespace:"Bitte gib eine Kategorie ein.",maxlength:"Die Kategorie darf max. 100 Zeichen lang sein."},to:{required:"Bitte gib eine Kategorie ein.",nowhitespace:"Bitte gib eine Kategorie ein.",maxlength:"Die Kategorie darf max. 100 Zeichen lang sein."}}})});
/*
//# sourceMappingURL=bootstrap.min.js.map
*/